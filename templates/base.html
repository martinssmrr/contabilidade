{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}Vetorial - A Melhor Contabilidade Online{% endblock %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block description %}Abra sua empresa sem burocracia com a Vetorial. Contabilidade online especializada em abertura de empresas, planejamento tributário e gestão contábil.{% endblock %}">
    <meta name="keywords" content="{% block keywords %}contabilidade, vetorial contabilidade, contabilidade online, abrir empresa, abrir cnpj, abertura de empresa, contador online, planejamento tributário{% endblock %}">
    <meta name="author" content="Vetorial Contabilidade">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://contabilvetorial.com.br{% block canonical %}{% endblock %}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://contabilvetorial.com.br{% block og_url %}{% endblock %}">
    <meta property="og:title" content="{% block og_title %}Vetorial - A Melhor Contabilidade Online{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Abra sua empresa sem burocracia com a Vetorial. Contabilidade online especializada.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}https://contabilvetorial.com.br{% static 'img/logo.png' %}{% endblock %}">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://contabilvetorial.com.br{% block twitter_url %}{% endblock %}">
    <meta property="twitter:title" content="{% block twitter_title %}Vetorial - A Melhor Contabilidade Online{% endblock %}">
    <meta property="twitter:description" content="{% block twitter_description %}Abra sua empresa sem burocracia com a Vetorial.{% endblock %}">
    <meta property="twitter:image" content="{% block twitter_image %}https://contabilvetorial.com.br{% static 'img/logo.png' %}{% endblock %}">
    
    <!-- CSS Crítico Inline para First Paint -->
    <style>
        :root{--primary-color:#3ef47c;--secondary-color:#0c63d1;--dark-color:#1f2937;--light-color:#f9fafb}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Inter','Segoe UI',sans-serif;min-height:100vh;display:flex;flex-direction:column;background-color:var(--light-color);color:var(--dark-color);line-height:1.6;overflow-x:hidden}
        main{flex:1;padding:0;margin:0;width:100%}
        .hero-section{position:relative;overflow:hidden;background-size:cover;background-position:center top;height:850px;display:flex;align-items:center}
        .navbar{background-color:#fff;box-shadow:0 2px 4px rgba(0,0,0,.1)}
    </style>
    
    <!-- Preconnect para recursos externos -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    
    <!-- CSS do Bootstrap com preload -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"></noscript>
    
    <!-- CSS customizado com preload -->
    <link rel="preload" href="{% static 'css/style.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="{% static 'css/footer.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    </noscript>
    
    <!-- Favicon com múltiplos tamanhos -->
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon.png' %}">
    <link rel="apple-touch-icon" href="{% static 'img/favicon.png' %}">
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {% include 'schema_org.json' %}
    </script>
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KW8RP2LF"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
     
    <!-- Navbar -->
    {% include 'partials/navbar.html' %}
    
    <!-- Mensagens do Django -->
    {% if messages %}
        <div class="container mt-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    <!-- Conteúdo principal -->
    <main>
        {% block content %}
        {% endblock %}
    </main>
    
    <!-- Footer -->
    {% include 'partials/footer_clean.html' %}
    
    <!-- JavaScript do Bootstrap com defer -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    
    <!-- JavaScript customizado com defer -->
    <script src="{% static 'js/script.js' %}" defer></script>
    
    <!-- Google Tag Manager -->
    <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KW8RP2LF');
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17603071293"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17603071293');
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
