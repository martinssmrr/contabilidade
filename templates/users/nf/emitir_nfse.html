{% extends 'base_dashboard.html' %}
{% load static %}

{% block title %}Emitir NFs-e - Vetorial{% endblock %}

{% block extra_css %}
<style>
    .page-title { font-size: 1.5rem; font-weight: 600; color: #1f2937; }
    .card-section { background: #fff; border-radius: 12px; padding: 1.5rem; border: 1px solid #f3f4f6; }
    .form-label { font-weight: 500; color: #374151; font-size: 0.875rem; }
    .info-list li { color: #6b7280; font-size: 0.875rem; margin-bottom: 0.75rem; }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    
    <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb small">
            <li class="breadcrumb-item"><a href="{% url 'users:notas_fiscais' %}" class="text-decoration-none">Notas Fiscais</a></li>
            <li class="breadcrumb-item active text-muted">Emitir NFs-e</li>
        </ol>
    </nav>
    
    <h1 class="page-title mb-4">Emitir NFs-e</h1>

    <div class="row">
        <div class="col-lg-8 mb-4">
            <div class="card-section">
                <h6 class="fw-semibold mb-4 text-muted">Dados da Nota Fiscal</h6>
                
                <form method="POST" id="formEmitirNFSe">
                    {% csrf_token %}
                    
                    <div class="row g-3">
                        <div class="col-12">
                            <label class="form-label">Tomador do Serviço (Cliente)</label>
                            <input type="text" class="form-control" name="tomador_nome" placeholder="Nome/Razão Social" required>
                        </div>
                        
                        <div class="col-md-6">
                            <label class="form-label">CPF/CNPJ</label>
                            <input type="text" class="form-control" name="tomador_documento" placeholder="000.000.000-00" required>
                        </div>
                        
                        <div class="col-md-6">
                            <label class="form-label">E-mail</label>
                            <input type="email" class="form-control" name="tomador_email" placeholder="email@exemplo.com">
                        </div>
                        
                        <div class="col-12">
                            <label class="form-label">Descrição do Serviço</label>
                            <textarea class="form-control" name="descricao_servico" rows="3" placeholder="Descreva o serviço prestado..." required></textarea>
                        </div>
                        
                        <div class="col-md-4">
                            <label class="form-label">Valor (R$)</label>
                            <input type="text" class="form-control" name="valor" placeholder="0,00" required>
                        </div>
                        
                        <div class="col-md-4">
                            <label class="form-label">Data da Prestação</label>
                            <input type="date" class="form-control" name="data_prestacao" required>
                        </div>
                        
                        <div class="col-md-4">
                            <label class="form-label">Código do Serviço</label>
                            <select class="form-select" name="codigo_servico" required>
                                <option value="">Selecione...</option>
                                <option value="01.01">01.01 - Análise de sistemas</option>
                                <option value="01.02">01.02 - Programação</option>
                                <option value="01.03">01.03 - Consultoria em TI</option>
                                <option value="17.01">17.01 - Assessoria</option>
                            </select>
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <div class="d-flex justify-content-between">
                        <a href="{% url 'users:notas_fiscais' %}" class="btn btn-light">
                            <i class="fas fa-arrow-left me-2"></i>Voltar
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane me-2"></i>Emitir Nota
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card-section">
                <h6 class="fw-semibold mb-3 text-muted">Informações</h6>
                <ul class="list-unstyled info-list mb-0">
                    <li><i class="fas fa-check text-success me-2"></i>Nota enviada por e-mail ao tomador</li>
                    <li><i class="fas fa-check text-success me-2"></i>Cópia no seu e-mail cadastrado</li>
                    <li><i class="fas fa-check text-success me-2"></i>Disponível em "Consultar Notas"</li>
                    <li class="text-warning"><i class="fas fa-exclamation-triangle me-2"></i>Verifique os dados antes de emitir</li>
                </ul>
            </div>
        </div>
    </div>
    
</div>
{% endblock %}
