{% extends 'base.html' %}
{% load static %}
{% block title %}Nossos Planos - Abra Sua Empresa{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section text-white position-relative" style="background: linear-gradient(135deg, rgba(12, 99, 209, 0.50) 0%, rgba(10, 79, 163, 0.0) 100%), url('{% static 'img/hs-1.png' %}'); height: 650px; width: 100%; padding: 0;">
    <div class="container-fluid" style="height: 100%;">
        <div class="row align-items-center" style="height: 100%; padding-bottom: 1rem;">
            <!-- Coluna Esquerda - Conteúdo -->
            <div class="col-lg-6 col-12 animate-fade-in px-5">
                <h1 class="display-3 fw-bold mb-4">Conheça Nossos Planos</h1>
                <p class="fs-5 mb-4">Soluções completas para facilitar sua rotina e impulsionar seu negócio. <br> 
                    Escolha a opção ideal e avance para o próximo nível. <br>
                    Simples, transparente e feito para o que você realmente precisa. <br>
                    Da formalização ao crescimento escolha o melhor para você. <br>
                    A solução certa está aqui
                </p>
                <div class="d-grid gap-3 d-sm-flex mb-4">
                    <a href="/admin/" class="btn btn-light btn-lg px-5">Abra sua empresa agora</a>
                    <a href="#servicos" class="btn btn-outline-light btn-lg px-5">Nossos Serviços</a>
                </div>
                <!-- Selos de Segurança -->
                <!-- <div class="d-flex gap-3 align-items-center flex-wrap mt-3">
                    <div class="selo-badge selo-ra1000">
                        <img src="{% static 'img/SELO-RA1000.png' %}" alt="Selo RA1000" class="img-fluid">
                    </div>
                    <div class="selo-badge selo-google" style="width: 103.969px !important; height: 37.734px !important;">
                        <img src="{% static 'img/googlesiteseguro.png' %}" alt="Google Site Seguro" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                </div> -->
            </div>
            <!-- Coluna Direita - Vazia (imagem de fundo aparece aqui) -->
            <div class="col-lg-6 d-none d-lg-block">
                <!-- Espaço para a imagem de fundo aparecer -->
            </div>
        </div>
    </div>
</section>

<!-- Por que escolher a Vetorial Section -->
<section id="por-que-escolher" class="features-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Por que escolher a Vetorial?</h2>
        </div>
        <div class="row g-4">
            <!-- Card 1 - Atendimento em todo o brasil -->
            <div class="col-lg-3 col-md-6 col-12">
                <div class="card h-100 border-0 shadow-sm feature-card">
                    <div class="card-body p-4 text-center">
                        <div class="feature-icon mb-4">
                            <img src="{% static 'img/brasil.png' %}" alt="Brasil" class="img-fluid">
                        </div>
                        <h5 class="card-title fw-bold mb-3">Atendimento em todo o brasil</h5>
                        <p class="card-text text-muted">Somos uma contabilidade online pronta para atender a sua empresa, em qualquer cidade brasileira.</p>
                    </div>
                </div>
            </div>
            
            <!-- Card 2 - Totalmente online -->
            <div class="col-lg-3 col-md-6 col-12">
                <div class="card h-100 border-0 shadow-sm feature-card">
                    <div class="card-body p-4 text-center">
                        <div class="feature-icon mb-4">
                            <img src="{% static 'img/online.png' %}" alt="Online" class="img-fluid">
                        </div>
                        <h5 class="card-title fw-bold mb-3">Totalmente online</h5>
                        <p class="card-text text-muted">Todo o atendimento e fluxo de documentos para a contabilidade se dá através do nosso sistema, basta ter acesso à internet.</p>
                    </div>
                </div>
            </div>
            
            <!-- Card 3 - Baixo Custo -->
            <div class="col-lg-3 col-md-6 col-12">
                <div class="card h-100 border-0 shadow-sm feature-card">
                    <div class="card-body p-4 text-center">
                        <div class="feature-icon mb-4">
                            <img src="{% static 'img/custo.png' %}" alt="Baixo Custo" class="img-fluid">
                        </div>
                        <h5 class="card-title fw-bold mb-3">Baixo Custo</h5>
                        <p class="card-text text-muted">Economize recursos para aplicar no seu negócio, tecnologia de ponta e contadores de primeira trazem para você o melhor custo benefício.</p>
                    </div>
                </div>
            </div>
            
            <!-- Card 4 - Atendimento Humanizado -->
            <div class="col-lg-3 col-md-6 col-12">
                <div class="card h-100 border-0 shadow-sm feature-card">
                    <div class="card-body p-4 text-center">
                        <div class="feature-icon mb-4">
                            <img src="{% static 'img/atendimento.png' %}" alt="Atendimento Humanizado" class="img-fluid">
                        </div>
                        <h5 class="card-title fw-bold mb-3">Atendimento Humanizado</h5>
                        <p class="card-text text-muted">Tenha um contador online pronto para atender e te ajudar na tomada de decisão do seu negócio.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Stats Section -->
<section class="stats-section py-5 bg-light stats-animated" aria-hidden="false">
    <div class="container">
        <div class="row text-center g-4">
            <div class="col-md-3 col-sm-6 col-12">
                <div class="card h-100 border-0 shadow-sm stats-card">
                    <div class="card-body p-4">
                        <h2 class="display-4 fw-bold stats-number mb-3">
                            <span class="counter" data-target="5000">0</span>+
                        </h2>
                        <p class="text-muted mb-0">Clientes Ativos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 col-12">
                <div class="card h-100 border-0 shadow-sm stats-card">
                    <div class="card-body p-4">
                        <h2 class="display-4 fw-bold stats-number mb-3">
                            <span class="counter" data-target="8">0</span>+
                        </h2>
                        <p class="text-muted mb-0">Anos de Experiência</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 col-12">
                <div class="card h-100 border-0 shadow-sm stats-card">
                    <div class="card-body p-4">
                        <h2 class="display-4 fw-bold stats-number mb-3">24/7</h2>
                        <p class="text-muted mb-0">Suporte Disponível</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 col-12">
                <div class="card h-100 border-0 shadow-sm stats-card">
                    <div class="card-body p-4">
                        <h2 class="display-4 fw-bold stats-number mb-3">
                            <span class="counter" data-target="100">0</span>%
                        </h2>
                        <p class="text-muted mb-0">Satisfação</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="planos" class="pricing-section py-5 bg-light" style="margin-top: 80px;">
    <div class="container">
        <div class="text-center mb-5">
            <!-- <h2 class="display-5 fw-bold mb-3">Escolha o plano que melhor se adequa à sua necessidade!</h2>
            <p class="lead text-muted mb-4">Planos completos, com suporte humano e tecnologia para simplificar sua rotina. Escolha o que mais faz sentido para você:</p> -->
            
            <!-- Toggle de Modalidades -->
            <div class="pricing-toggle d-inline-flex p-1 mb-5">
                <button class="toggle-btn active" data-toggle="servicos">
                    <span class="toggle-content">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                        </svg>
                        Serviços
                    </span>
                </button>
                <button class="toggle-btn" data-toggle="comercio">
                    <span class="toggle-content">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                            <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"/>
                        </svg>
                        Comércio
                    </span>
                </button>
            </div>
        </div>

        <!-- Planos de SERVIÇOS -->
        <div class="pricing-cards-container" id="planos-servicos">
            <div class="row g-4 justify-content-center">
                {% for plano in planos_servicos %}
                <div class="col-lg-4 col-md-6">
                    <div class="pricing-card {% if plano.destaque %}pricing-card-popular{% endif %}">
                        {% if plano.destaque %}
                        <div class="popular-badge">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>
                            Mais Popular
                        </div>
                        {% endif %}
                        <div class="pricing-card-header">
                            <h3 class="pricing-plan-name">{{ plano.nome }}</h3>
                            <p class="pricing-description">{{ plano.descricao }}</p>
                        </div>
                        <div class="pricing-card-price">
                            {% if plano.tem_desconto %}
                            <span class="price-old">R$ {{ plano.preco_antigo|floatformat:2 }}</span>
                            {% endif %}
                            <div class="price-current">
                                <span class="price-currency">R$</span>
                                <span class="price-value">{{ plano.preco|floatformat:2 }}</span>
                                <span class="price-period">/mês</span>
                            </div>
                        </div>
                        <div class="pricing-card-body">
                            <ul class="pricing-features">
                                {% for feature in plano.features %}
                                <li><i class="bi bi-check-circle-fill"></i> {{ feature }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="pricing-card-footer">
                            <a href="{% url 'services:abertura_empresa' %}" class="btn btn-pricing {% if plano.destaque %}btn-pricing-popular{% endif %}">Contratar Agora</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">Nenhum plano de serviços disponível no momento.</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Planos de COMÉRCIO -->
        <div class="pricing-cards-container" id="planos-comercio" style="display: none;">
            <div class="row g-4 justify-content-center">
                {% for plano in planos_comercio %}
                <div class="col-lg-4 col-md-6">
                    <div class="pricing-card {% if plano.destaque %}pricing-card-popular{% endif %}">
                        {% if plano.destaque %}
                        <div class="popular-badge">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>
                            Mais Popular
                        </div>
                        {% endif %}
                        <div class="pricing-card-header">
                            <h3 class="pricing-plan-name">{{ plano.nome }}</h3>
                            <p class="pricing-description">{{ plano.descricao }}</p>
                        </div>
                        <div class="pricing-card-price">
                            {% if plano.tem_desconto %}
                            <span class="price-old">R$ {{ plano.preco_antigo|floatformat:2 }}</span>
                            {% endif %}
                            <div class="price-current">
                                <span class="price-currency">R$</span>
                                <span class="price-value">{{ plano.preco|floatformat:2 }}</span>
                                <span class="price-period">/mês</span>
                            </div>
                        </div>
                        <div class="pricing-card-body">
                            <ul class="pricing-features">
                                {% for feature in plano.features %}
                                <li><i class="bi bi-check-circle-fill"></i> {{ feature }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="pricing-card-footer">
                            <a href="{% url 'services:abertura_empresa' %}" class="btn btn-pricing {% if plano.destaque %}btn-pricing-popular{% endif %}">Contratar Agora</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">Nenhum plano de comércio disponível no momento.</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Seção de Serviços Contábeis (inserida abaixo da seção Planos) -->
<section class="svc-section" aria-labelledby="svc-title">
    <div class="svc-inner">
        <h2 id="svc-title" class="svc-title">Conte com um especialista contábil para facilitar sua rotina</h2>

        <p class="svc-lead">
            Conheça a Vetorial Contabilidade sua solução completa que oferece um <strong>assessor contábil dedicado (Gerente de Conta)</strong> para acompanhar suas operações, otimizar processos e reduzir riscos fiscais. Conte com orientação estratégica e execução prática para sua empresa.
        </p>

        <div class="svc-center">
            <div class="svc-media">
                <div class="svc-image-wrap" role="img" aria-label="Profissional contábil">
                    <img src="{% static 'img/midcta.jpg' %}" alt="Profissional contábil" class="svc-image">
                </div>
                <a href="https://wa.me/5577999515837" target="_blank" rel="noopener noreferrer" class="svc-cta-bottom-btn" role="button">Quero ser Vetorial</a>
            </div>

            <div class="svc-box box-a">
                <svg class="box-check" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="12" fill="#582e9b"></circle><path d="M6 12.2l3 3.2 9-9.5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
                <div class="box-text">Emissão de notas fiscais</div>
            </div>

            <div class="svc-box box-b">
                <svg class="box-check" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="12" fill="#582e9b"></circle><path d="M6 12.2l3 3.2 9-9.5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
                <div class="box-text">Conciliação financeira</div>
            </div>

            <!-- <div class="svc-box box-c">
                <svg class="box-check" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="12" fill="#582e9b"></circle><path d="M6 12.2l3 3.2 9-9.5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
                <div class="box-text">Declaração de IRPF</div>
            </div> -->

            <div class="svc-box box-d">
                <svg class="box-check" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="12" fill="#582e9b"></circle><path d="M6 12.2l3 3.2 9-9.5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
                <div class="box-text">Economia de impostos</div>
            </div>

            <div class="svc-box box-e">
                <svg class="box-check" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="12" fill="#582e9b"></circle><path d="M6 12.2l3 3.2 9-9.5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
                <div class="box-text">Suporte exclusivo para decisões mais assertivas</div>
            </div>
        </div>

        <p class="svc-close">Mude para uma contabilidade que entrega resultados com <strong>parceria!</strong></p>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq-section py-5" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); min-height: 400px;">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Dúvidas Frequentes sobre os Planos</h2>
            <p class="lead text-muted">Tire suas principais dúvidas sobre nossos planos</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="faq-accordion">
                    <div class="faq-item">
                        <button class="faq-question" type="button" onclick="toggleFaq(this)">
                            <span class="faq-question-text">Qual a diferença entre os planos de Serviços e Comércio?</span>
                            <span class="faq-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <p>Os planos de Serviços são voltados para profissionais liberais, consultores e prestadores de serviços em geral. Já os planos de Comércio são destinados a empresas que comercializam produtos, como lojas físicas e e-commerce.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" type="button" onclick="toggleFaq(this)">
                            <span class="faq-question-text">O que está incluso nos planos mensais?</span>
                            <span class="faq-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <p>Todos os planos incluem: escrituração contábil completa, emissão de guias de impostos, certificado digital, suporte via WhatsApp, folha de pagamento (quando aplicável), e muito mais. Confira os detalhes de cada plano acima.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" type="button" onclick="toggleFaq(this)">
                            <span class="faq-question-text">Posso mudar de plano depois?</span>
                            <span class="faq-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <p>Sim! Você pode fazer upgrade ou downgrade do seu plano a qualquer momento. Entre em contato conosco e faremos o ajuste necessário na sua próxima mensalidade.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" type="button" onclick="toggleFaq(this)">
                            <span class="faq-question-text">Há taxa de adesão ou fidelidade?</span>
                            <span class="faq-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <p>Não cobramos taxa de adesão e temos período de fidelidade de 12 meses.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" type="button" onclick="toggleFaq(this)">
                            <span class="faq-question-text">Como funciona o suporte via WhatsApp?</span>
                            <span class="faq-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <p>Nosso suporte funciona de segunda a sexta, das 9h às 18h. Você terá acesso direto à nossa equipe de especialistas para tirar dúvidas e resolver questões rapidamente.</p>
                            </div>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question" type="button" onclick="toggleFaq(this)">
                            <span class="faq-question-text">O certificado digital está incluso?</span>
                            <span class="faq-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <p>Sim, todos os nossos planos incluem o certificado digital e-CPF ou e-CNPJ, essencial para emissão de notas fiscais e acesso aos sistemas do governo.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // Toggle entre Serviços e Comércio
    document.querySelectorAll('.toggle-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const target = this.getAttribute('data-toggle');
            
            // Remove active de todos os botões
            document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            
            // Adiciona active no botão clicado
            this.classList.add('active');
            
            // Esconde todos os containers
            document.querySelectorAll('.pricing-cards-container').forEach(container => {
                container.style.display = 'none';
            });
            
            // Mostra o container selecionado
            document.getElementById('planos-' + target).style.display = 'block';
        });
    });

    // FAQ Accordion - Toggle expandir/colapsar
    function toggleFaq(button) {
        const faqItem = button.parentElement;
        const answer = faqItem.querySelector('.faq-answer');
        const icon = button.querySelector('.faq-icon');
        const isOpen = faqItem.classList.contains('active');
        
        // Fecha todos os outros FAQs
        document.querySelectorAll('.faq-item.active').forEach(item => {
            if (item !== faqItem) {
                item.classList.remove('active');
                const otherAnswer = item.querySelector('.faq-answer');
                const otherIcon = item.querySelector('.faq-icon');
                otherAnswer.style.maxHeight = '0';
                otherIcon.style.transform = 'rotate(0deg)';
            }
        });
        
        // Toggle do FAQ atual
        if (isOpen) {
            faqItem.classList.remove('active');
            answer.style.maxHeight = '0';
            icon.style.transform = 'rotate(0deg)';
        } else {
            faqItem.classList.add('active');
            answer.style.maxHeight = answer.scrollHeight + 'px';
            icon.style.transform = 'rotate(180deg)';
        }
    }
</script>
<script>
// Stats animation: IntersectionObserver to trigger count + entrance animation
document.addEventListener('DOMContentLoaded', function() {
    const statsSection = document.querySelector('.stats-animated');
    if (!statsSection) return;

    const counters = statsSection.querySelectorAll('.counter');

    function animateCounters() {
        counters.forEach(counter => {
            const target = parseInt(counter.getAttribute('data-target')) || 0;
            const duration = 1400;
            let start = 0;
            let startTime = null;

            function step(timestamp) {
                if (!startTime) startTime = timestamp;
                const progress = Math.min((timestamp - startTime) / duration, 1);
                const value = Math.floor(progress * (target - start) + start);
                counter.textContent = value;
                if (progress < 1) requestAnimationFrame(step);
                else counter.textContent = target; // ensure final
            }

            requestAnimationFrame(step);
        });
    }

    const io = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                statsSection.classList.add('in-view');
                animateCounters();
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.25 });

    io.observe(statsSection);
});
</script>
{% endblock %}
